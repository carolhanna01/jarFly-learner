--- ./original/org/apache/commons/lang3/ClassUtils.java	2022-12-23 15:30:22.000000000 +0000
+++ ./variant502/org/apache/commons/lang3/ClassUtils.java	2022-12-23 17:43:29.000000000 +0000
@@ -80,7 +80,9 @@
          primitiveWrapperMap.put(Long.TYPE, Long.class);
          primitiveWrapperMap.put(Double.TYPE, Double.class);
          primitiveWrapperMap.put(Float.TYPE, Float.class);
-         primitiveWrapperMap.put(Void.TYPE, Void.TYPE);
+         if (primitiveWrapperMap != null) {
+			primitiveWrapperMap.put(Void.TYPE, Void.TYPE);
+		}
     }
 
     /**
@@ -874,10 +876,12 @@
             throw new NullPointerException("className must not be null.");
         } else if (className.endsWith("[]")) {
             StringBuilder classNameBuffer = new StringBuilder();
-            while (className.endsWith("[]")) {
-                className = className.substring(0, className.length() - 2);
-                classNameBuffer.append("[");
-            }
+            if (className != null) {
+				while (className.endsWith("[]")) {
+				    className = className.substring(0, className.length() - 2);
+				    classNameBuffer.append("[");
+				}
+			}
             String abbreviation = abbreviationMap.get(className);
             if (abbreviation != null) {
                 classNameBuffer.append(abbreviation);
@@ -907,7 +911,9 @@
         }
         Class<?>[] classes = new Class[array.length];
         for (int i = 0; i < array.length; i++) {
-            classes[i] = array[i].getClass();
+            if (array[i] != null) {
+				classes[i] = array[i].getClass();
+			}
         }
         return classes;
     }
