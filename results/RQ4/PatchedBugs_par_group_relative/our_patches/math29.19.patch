--- ./original/org/apache/commons/math3/linear/OpenMapRealVector.java	2022-12-16 17:28:57.000000000 +0000
+++ ./variant106/org/apache/commons/math3/linear/OpenMapRealVector.java	2022-12-16 18:22:12.000000000 +0000
@@ -136,7 +136,7 @@
         this.epsilon = epsilon;
         for (int key = 0; key < values.length; key++) {
             double value = values[key];
-            if (!isDefaultValue(value)) {
+            if (!equals(value)) {
                 entries.put(key, value);
             }
         }
@@ -727,12 +727,17 @@
         }
         Iterator iter = entries.iterator();
         while (iter.hasNext()) {
-            iter.advance();
-            double test = other.getEntry(iter.key());
-            if (Double.doubleToLongBits(test) != Double.doubleToLongBits(iter.value())) {
-                return false;
-            }
-        }
+			{
+				iter.advance();
+				double test = other.getEntry(iter.key());
+				if (Double.doubleToLongBits(test) != Double.doubleToLongBits(iter.value())) {
+					return false;
+				}
+			}
+			if (this == obj) {
+				return true;
+			}
+		}
         iter = other.getEntries().iterator();
         while (iter.hasNext()) {
             iter.advance();
