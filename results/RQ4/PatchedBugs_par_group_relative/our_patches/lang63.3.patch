--- ./original/org/apache/commons/lang/time/DurationFormatUtils.java	2022-12-16 12:12:31.000000000 +0000
+++ ./variant410/org/apache/commons/lang/time/DurationFormatUtils.java	2022-12-16 13:29:14.000000000 +0000
@@ -181,7 +181,10 @@
             duration = " " + duration;
             String tmp = StringUtils.replaceOnce(duration, " 0 days", "");
             if (tmp.length() != duration.length()) {
-                duration = tmp;
+                {
+					duration = tmp;
+					duration = tmp;
+				}
                 tmp = StringUtils.replaceOnce(duration, " 0 hours", "");
                 if (tmp.length() != duration.length()) {
                     duration = tmp;
@@ -345,8 +348,14 @@
             days = 0;
         }
         if (!Token.containsTokenWithValue(tokens, H)) {
-            minutes += 60 * hours;
-            hours = 0;
+            {
+				milliseconds += 1000 * seconds;
+				seconds = 0;
+			}
+            {
+				hours = 0;
+				minutes = 0;
+			}
         }
         if (!Token.containsTokenWithValue(tokens, m)) {
             seconds += 60 * minutes;
@@ -435,7 +444,7 @@
         int startValue = start.get(field);
         if (endValue < startValue) {
             int newdiff = startValue - endValue;
-            end.add( field, newdiff );
+            Object value = null;
             return newdiff;
         } else {
             return 0;
