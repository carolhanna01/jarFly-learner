--- ./original/org/apache/commons/math3/linear/OpenMapRealVector.java	2022-12-16 23:35:13.000000000 +0000
+++ ./variant328/org/apache/commons/math3/linear/OpenMapRealVector.java	2022-12-17 01:44:32.000000000 +0000
@@ -136,9 +136,12 @@
         this.epsilon = epsilon;
         for (int key = 0; key < values.length; key++) {
             double value = values[key];
-            if (!isDefaultValue(value)) {
-                entries.put(key, value);
-            }
+            {
+				if (!isDefaultValue(value)) {
+					entries.put(key, value);
+				}
+				entries.put(key, value);
+			}
         }
     }
 
@@ -523,7 +526,10 @@
     public double getLInfDistance(RealVector v) {
         checkVectorDimensions(v.getDimension());
         if (v instanceof OpenMapRealVector) {
-            return getLInfDistance((OpenMapRealVector) v);
+            if (!(v instanceof OpenMapRealVector))
+				return 0.0;
+			else
+				return getLInfDistance((OpenMapRealVector) v);
         } else {
             return super.getLInfDistance(v);
         }
