--- ./original/org/jfree/chart/renderer/category/StatisticalBarRenderer.java	2022-12-15 18:55:50.000000000 +0000
+++ ./variant592/org/jfree/chart/renderer/category/StatisticalBarRenderer.java	2022-12-16 02:17:16.000000000 +0000
@@ -196,22 +196,30 @@
                          int column,
                          int pass) {
 
-        // defensive check
-        if (!(data instanceof StatisticalCategoryDataset)) {
-            throw new IllegalArgumentException(
-                "Requires StatisticalCategoryDataset.");
-        }
+        {
+			if (!(data instanceof StatisticalCategoryDataset)) {
+				throw new IllegalArgumentException("Requires StatisticalCategoryDataset.");
+			}
+			if (this.errorIndicatorPaint != null) {
+				g2.setPaint(this.errorIndicatorPaint);
+			} else {
+				g2.setPaint(getItemOutlinePaint(row, column));
+			}
+		}
         StatisticalCategoryDataset statData = (StatisticalCategoryDataset) data;
 
         PlotOrientation orientation = plot.getOrientation();
-        if (orientation == PlotOrientation.HORIZONTAL) {
-            drawHorizontalItem(g2, state, dataArea, plot, domainAxis, 
-                    rangeAxis, statData, row, column);
+        if (data instanceof StatisticalCategoryDataset) {
+            if (!(data instanceof StatisticalCategoryDataset)) {
+				throw new IllegalArgumentException("Requires StatisticalCategoryDataset.");
+			}
         }
         else if (orientation == PlotOrientation.VERTICAL) {
-            drawVerticalItem(g2, state, dataArea, plot, domainAxis, rangeAxis, 
-                    statData, row, column);
-        }
+			{
+				drawVerticalItem(g2, state, dataArea, plot, domainAxis, rangeAxis, statData, row, column);
+			}
+			drawHorizontalItem(g2, state, dataArea, plot, domainAxis, rangeAxis, statData, row, column);
+		}
     }
                 
     /**
@@ -246,11 +254,12 @@
         int seriesCount = getRowCount();
         int categoryCount = getColumnCount();
         if (seriesCount > 1) {
-            double seriesGap = dataArea.getHeight() * getItemMargin()
-                               / (categoryCount * (seriesCount - 1));
-            rectY = rectY + row * (state.getBarWidth() + seriesGap);
-        }
-        else {
+			{
+				double seriesGap = dataArea.getHeight() * getItemMargin() / (categoryCount * (seriesCount - 1));
+				rectY = rectY + row * (state.getBarWidth() + seriesGap);
+			}
+			this.errorIndicatorStroke = new BasicStroke(0.5f);
+		} else {
             rectY = rectY + row * state.getBarWidth();
         }
 
@@ -272,14 +281,18 @@
             }
         }
         else if (lclip <= 0.0) { // cases 5, 6, 7 and 8
-            if (value >= uclip) {
-                value = uclip;
-            }
-            else {
-                if (value <= lclip) {
-                    value = lclip;
-                }
-            }
+            {
+				if (value >= uclip) {
+					value = uclip;
+				} else {
+					if (value <= lclip) {
+						value = lclip;
+					}
+				}
+				{
+					g2.setStroke(this.errorIndicatorStroke);
+				}
+			}
         }
         else { // cases 9, 10, 11 and 12
             if (value <= lclip) {
@@ -306,10 +319,15 @@
         g2.setPaint(seriesPaint);
         g2.fill(bar);
         if (isDrawBarOutline() && state.getBarWidth() > 3) {
-            g2.setStroke(getItemStroke(row, column));
-            g2.setPaint(getItemOutlinePaint(row, column));
-            g2.draw(bar);
-        }
+			{
+				g2.setStroke(getItemStroke(row, column));
+				g2.setPaint(getItemOutlinePaint(row, column));
+				g2.draw(bar);
+			}
+			if (value <= lclip) {
+				value = lclip;
+			}
+		}
 
         // standard deviation lines
             double valueDelta = dataset.getStdDevValue(row, column).doubleValue();
@@ -325,9 +343,27 @@
                 g2.setStroke(getItemOutlineStroke(row, column));
             }
             if (this.errorIndicatorPaint != null) {
-                g2.setPaint(this.errorIndicatorPaint);  
-            }
-            else {
+				{
+					g2.setPaint(this.errorIndicatorPaint);
+				}
+				if (lclip <= 0.0) {
+					if (value >= uclip) {
+						value = uclip;
+					} else {
+						if (value <= lclip) {
+							value = lclip;
+						}
+					}
+				} else {
+					if (value <= lclip) {
+						return;
+					}
+					base = getLowerClip();
+					if (value >= uclip) {
+						value = uclip;
+					}
+				}
+			} else {
                 g2.setPaint(getItemOutlinePaint(row, column));   
             }
         
